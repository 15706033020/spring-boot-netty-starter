(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{282:function(t,v,e){"use strict";e.r(v);var _=e(14),s=Object(_.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"注解-annotation"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#注解-annotation"}},[t._v("#")]),t._v(" 注解(Annotation)")]),t._v(" "),v("ul",[v("li",[t._v("随着后端生态的越来越完善,注解开发已经成为不可获取的一部分,注解在开发过程中占据了大部分的过程,它可以帮助我们实现快捷开发,在本框架中也封装了多个注解以供事件处理,程序管理使用")])]),t._v(" "),v("h2",{attrs:{id:"处理器"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#处理器"}},[t._v("#")]),t._v(" 处理器")]),t._v(" "),v("ul",[v("li",[t._v("这一类型的注解,主要是对处理器的生命周期进行回调,与"),v("RouterLink",{attrs:{to:"/guide/interceptor.html"}},[v("code",[t._v("Interceptor")]),t._v("拦截器")]),t._v("和"),v("RouterLink",{attrs:{to:"/guide/lambda.html"}},[v("code",[t._v("Lambda")]),t._v("监听器")]),t._v("的生命周期基本一致,但是优先级没有它们高,执行顺序依次是"),v("code",[t._v("Interceptor->Lambda->Annotation")])],1)]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),v("p",[t._v("这一类型的注解必须使用在"),v("code",[t._v("Spring")]),t._v("的"),v("code",[t._v("Bean")]),t._v("中才会生效,且方法必须带有特定参数,否则无法通知.")])]),t._v(" "),v("h4",{attrs:{id:"onactive"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onactive"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnActive")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在连接成功后进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"onbeforeaddsession"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onbeforeaddsession"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnBeforeAddSession")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在启用自动注册后自动注册之前进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"onaddsession"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onaddsession"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnAddSession")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在启用自动注册后自动注册之后进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"onregister"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onregister"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnRegister")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在客户端尚未完全连接时进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"onbeforemessage"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onbeforemessage"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnBeforeMessage")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在接收消息之前进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])]),t._v(" "),v("tr",[v("td",[t._v("msg")]),t._v(" "),v("td",[v("code",[t._v("java.lang.Object")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"onmessage"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onmessage"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnMessage")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在接收消息时进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])]),t._v(" "),v("tr",[v("td",[t._v("msg")]),t._v(" "),v("td",[v("code",[t._v("java.lang.Object")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"onaftermessage"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onaftermessage"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnAfterMessage")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在接收消息之后进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])]),t._v(" "),v("tr",[v("td",[t._v("msg")]),t._v(" "),v("td",[v("code",[t._v("java.lang.Object")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"oncomplete"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#oncomplete"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnComplete")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在接收消息完成后进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"onidle"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onidle"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnIdle")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在读写空闲时进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])]),t._v(" "),v("tr",[v("td",[t._v("state")]),t._v(" "),v("td",[v("code",[t._v("io.netty.handler.timeout.IdleStateEvent")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"oninactive"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#oninactive"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnInactive")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在离线时进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"onunregister"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onunregister"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnUnregister")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在断开连接时进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"onbeforeremovesession"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onbeforeremovesession"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnBeforeRemoveSession")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在注销"),v("code",[t._v("Session")]),t._v("之前进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"onremovesession"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onremovesession"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnRemoveSession")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在注销"),v("code",[t._v("Session")]),t._v("时进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h4",{attrs:{id:"onerror"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#onerror"}},[t._v("#")]),t._v(" "),v("code",[t._v("@OnError")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 方法级别")]),t._v(" "),v("li",[t._v("参数: 无")]),t._v(" "),v("li",[t._v("功能: 添加这个注解的方法,会在捕获错误时进行通知")]),t._v(" "),v("li",[t._v("方法参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("RouterLink",{attrs:{to:"/guide/session-manage.html#客户端-session"}},[t._v("session")])],1),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.session.impl.Session")])]),t._v(" "),v("td",[t._v("true")])]),t._v(" "),v("tr",[v("td",[t._v("cause")]),t._v(" "),v("td",[v("code",[t._v("java.lang.Throwable")])]),t._v(" "),v("td",[t._v("true")])])])]),t._v(" "),v("h2",{attrs:{id:"标识"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#标识"}},[t._v("#")]),t._v(" 标识")]),t._v(" "),v("ul",[v("li",[t._v("这一类型的注解主要起到标识作用,在程序启动阶段有重要作用")])]),t._v(" "),v("h4",{attrs:{id:"enablewebserver"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#enablewebserver"}},[t._v("#")]),t._v(" "),v("code",[t._v("@EnableWebServer")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 类级别")]),t._v(" "),v("li",[t._v("功能: 这个注解仅在主程序的启动类生效,加入这个注解会在启动"),v("code",[t._v("Socket")]),t._v("服务器的同时启动一个"),v("code",[t._v("Spring-web")]),t._v("的容器")]),t._v(" "),v("li",[t._v("参数: 无")])]),t._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),v("p",[t._v("如果使用这个注解,必须添加"),v("code",[t._v("Spring-boot-web")]),t._v("的相关依赖,且"),v("RouterLink",{attrs:{to:"/guide/"}},[t._v("依赖版本")]),t._v("不得低于框架使用版本")],1)]),t._v(" "),v("h4",{attrs:{id:"handlerscan"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#handlerscan"}},[t._v("#")]),t._v(" "),v("code",[t._v("@HandlerScan")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 类级别")]),t._v(" "),v("li",[t._v("功能: 这个注解仅在主程序的启动类生效,加入这个注解会在启动的时候选择性的进行模块加载,而不会进行全局加载"),v("code",[t._v("Handler")])]),t._v(" "),v("li",[t._v("参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")]),t._v(" "),v("th",[t._v("参数说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("packages")]),t._v(" "),v("td",[v("code",[t._v("java.lang.String[]")])]),t._v(" "),v("td",[t._v("true")]),t._v(" "),v("td",[t._v("需要加载的"),v("code",[t._v("Handler")]),t._v("的包路径")])])])]),t._v(" "),v("h4",{attrs:{id:"handler"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#handler"}},[t._v("#")]),t._v(" "),v("code",[t._v("@Handler")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 类级别")]),t._v(" "),v("li",[t._v("功能: 这个注解用来标识一个类是一个处理器,这个类的类型必须是一个"),v("code",[t._v("ChannelHandler")]),t._v("的类型,在这一类类型上加上该注解,将自动注入到"),v("code",[t._v("Pipeline")]),t._v("之中")]),t._v(" "),v("li",[t._v("参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")]),t._v(" "),v("th",[t._v("参数说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("value")]),t._v(" "),v("td",[v("code",[t._v("java.lang.Integer")])]),t._v(" "),v("td",[t._v("true")]),t._v(" "),v("td",[t._v("该参数用来确定处理器的优先级,数字越小优先级越高")])]),t._v(" "),v("tr",[v("td",[t._v("name")]),t._v(" "),v("td",[v("code",[t._v("java.lang.String")])]),t._v(" "),v("td",[t._v("false")]),t._v(" "),v("td",[t._v("该参数用来设置Handler的加载名称")])]),t._v(" "),v("tr",[v("td",[t._v("type")]),t._v(" "),v("td",[v("code",[t._v("site.peaklee.framework.enums.HandlerType")])]),t._v(" "),v("td",[t._v("false")]),t._v(" "),v("td",[t._v("该参数用来设置Handler的类型")])]),t._v(" "),v("tr",[v("td",[t._v("innerClass")]),t._v(" "),v("td",[v("code",[t._v("java.lang.Class<T>")])]),t._v(" "),v("td",[t._v("false")]),t._v(" "),v("td",[t._v("该参数只有在"),v("code",[t._v("type")]),t._v("属性为"),v("code",[t._v("PROTOC")]),t._v("的时候有效,用来标识"),v("code",[t._v("protobuf")]),t._v("转化的数据标识内部类")])])])]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),v("p",[t._v("默认情况下被它标识的类不是一个单例,会在每个线程创建一个单独的实例,这些实例互不影响,如果需要创建一个共享的单例以节省开销,你需要添加一个"),v("code",[t._v("ChannelHandler.Sharable")]),t._v("注解,并将这个类加入到"),v("code",[t._v("Spring")]),t._v("的"),v("code",[t._v("IOC")]),t._v("容器中进行管理,或实现"),v("code",[t._v("SpringInject")]),t._v("接口")])]),t._v(" "),v("h2",{attrs:{id:"依赖注入"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#依赖注入"}},[t._v("#")]),t._v(" 依赖注入")]),t._v(" "),v("ul",[v("li",[t._v("这一类型的注解主要是对"),v("code",[t._v("Spring")]),t._v("容器操作的扩展可以实现在非"),v("code",[t._v("IOC")]),t._v("容器中的注入")])]),t._v(" "),v("h4",{attrs:{id:"injectattr"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#injectattr"}},[t._v("#")]),t._v(" "),v("code",[t._v("@InjectAttr")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 属性级别")]),t._v(" "),v("li",[t._v("功能: 任何一个处理器,拦截器类型的类内部属性如果被标注这个注解将会自动注入标注属性的值,该值的来源是"),v("code",[t._v("Spring")]),t._v("的配置文件")]),t._v(" "),v("li",[t._v("参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")]),t._v(" "),v("th",[t._v("参数说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("value")]),t._v(" "),v("td",[v("code",[t._v("java.lang.String")])]),t._v(" "),v("td",[t._v("true")]),t._v(" "),v("td",[t._v("该参数用来标识配置文件的属性表达式,表达式以"),v("code",[t._v("${")]),t._v("开头,以"),v("code",[t._v("}")]),t._v("结束")])])])]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("表达式")]),t._v(" "),v("ul",[v("li",[t._v("请确保属性类型与配置文件属性类型一致,否则无法注入成功")])]),t._v(" "),v("div",{staticClass:"language-java extra-class"},[v("pre",{pre:!0,attrs:{class:"language-java"}},[v("code",[t._v("    "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//该表达式的意思式注入配置文件中socket.port的值给这个属性,如果没有就给默认值 8080")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@InjectAttr")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${socket.port:8080}"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" port"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//该表达式的意思式注入配置文件中socket.arrays的值给这个数组,如果没有就给默认值 8080,8084,8082,表达式想注入数组类型需以,分割")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@InjectAttr")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${socket.arrays:8080,8084,8082}"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" arrays"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//该表达式的意思式注入配置文件中socket.list的值给这个List,如果没有就给默认值 8080,8084,8082,表达式想注入List类型需以,分割")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@InjectAttr")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${socket.list:8080,8084,8082}"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),v("span",{pre:!0,attrs:{class:"token generics"}},[v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),v("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" list"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])])]),t._v(" "),v("h4",{attrs:{id:"injectbean"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#injectbean"}},[t._v("#")]),t._v(" "),v("code",[t._v("@InjectBean")])]),t._v(" "),v("ul",[v("li",[t._v("作用域: 属性级别")]),t._v(" "),v("li",[t._v("功能: 任何一个处理器,拦截器类型的类内部属性如果被标注这个注解将会自动注入标注属性的值,该值的来源是"),v("code",[t._v("Spring")]),t._v("容器中的"),v("code",[t._v("Bean")])]),t._v(" "),v("li",[t._v("参数:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("参数名称")]),t._v(" "),v("th",[t._v("参数类型")]),t._v(" "),v("th",[t._v("是否必须")]),t._v(" "),v("th",[t._v("参数说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("value")]),t._v(" "),v("td",[v("code",[t._v("java.lang.String")])]),t._v(" "),v("td",[t._v("false")]),t._v(" "),v("td",[t._v("需要注入的"),v("code",[t._v("Bean")]),t._v("名称")])]),t._v(" "),v("tr",[v("td",[t._v("require")]),t._v(" "),v("td",[v("code",[t._v("java.lang.Boolean")])]),t._v(" "),v("td",[t._v("false")]),t._v(" "),v("td",[t._v("这个"),v("code",[t._v("Bean")]),t._v("是否必须注入")])])])]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),v("ul",[v("li",[t._v("默认情况下"),v("code",[t._v("Bean")]),t._v("是被必须注入的,通常会通过类型去查找,如果设置了"),v("code",[t._v("Bean")]),t._v("的名称,会优先以名称查找,查找不到会抛出错误信息,但是不会终止程序的运行")])])])])}),[],!1,null,null,null);v.default=s.exports}}]);