(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{294:function(s,t,a){"use strict";a.r(t);var e=a(14),v=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[s._v("#")]),s._v(" 概述")]),s._v(" "),t("p",[t("code",[s._v("SessionManager")]),s._v("是一个对"),t("code",[s._v("Netty")]),s._v("的"),t("code",[s._v("Channel")]),s._v("管理的封装,能够对现有连接客户端的通信做管理,包括增删改查,单点发送,群组发送等.")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("注意事项")]),s._v(" "),t("p",[t("code",[s._v("SessionManager")]),s._v("是一个接口,其内部已经做了统一实现,如果需要单独定制,请单独实现"),t("code",[s._v("SessionManager")]),s._v("接口并加入到"),t("code",[s._v("Spring")]),s._v("的"),t("code",[s._v("IOC")]),s._v("容器中,框架会自动替换原有的默认实现,如果你这么做,请"),t("b",[s._v("保证")]),s._v("它是一个"),t("b",[s._v("单例")]),s._v(",否则数据将得不到任何保证.")])]),s._v(" "),t("h2",{attrs:{id:"管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#管理"}},[s._v("#")]),s._v(" 管理")]),s._v(" "),t("p",[t("code",[s._v("Session")]),s._v("的管理包含了一系列的"),t("code",[s._v("Session")]),s._v("处理,其中包含了查找,消息发送,全局适配等功能")]),s._v(" "),t("h3",{attrs:{id:"查找-sessionfind"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查找-sessionfind"}},[s._v("#")]),s._v(" 查找("),t("code",[s._v("SessionFind")]),s._v(")")]),s._v(" "),t("p",[t("code",[s._v("SessionFind")]),s._v("是一个"),t("code",[s._v("Session")]),s._v("查找的接口,通过这个类可以很方便的查找当前在线客户端.")]),s._v(" "),t("h4",{attrs:{id:"findsession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#findsession"}},[s._v("#")]),s._v(" "),t("code",[s._v("findSession")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("根据"),t("code",[s._v("Session")]),s._v("的"),t("code",[s._v("id")]),s._v("找到当前在线的"),t("code",[s._v("Session")]),s._v("对象")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("findSession")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("一个可以被序列化的值,这个值是你在"),t("RouterLink",{attrs:{to:"/guide/interceptor.html"}},[t("code",[s._v("Session")]),s._v("注册")]),s._v("的时候写入的"),t("code",[s._v("id")])],1)])])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("注意事项")]),s._v(" "),t("p",[s._v("这个id一定是一个具体的类型,而不是一个接口类型,或者你所实现的这个id类的HasCode和equals方法必须被重写以保证它的幂等性是在校验某个值而不是地址.")])]),s._v(" "),t("ul",[t("li",[s._v("返回值:")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("返回意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("Session")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session")])]),s._v(" "),t("td",[s._v("根据"),t("code",[s._v("id")]),s._v("找到的"),t("code",[s._v("Session")]),s._v("对象,没有则返回"),t("code",[s._v("NULL")])])])])]),s._v(" "),t("h4",{attrs:{id:"findsessionchannel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#findsessionchannel"}},[s._v("#")]),s._v(" "),t("code",[s._v("findSessionChannel")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("根据"),t("code",[s._v("Channel")]),s._v("的"),t("code",[s._v("id")]),s._v("找到当前在线的"),t("code",[s._v("Session")]),s._v("对象")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("findSessionChannel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("io.netty.channel.ChannelId")]),s._v(" extend "),t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[t("code",[s._v("Channel")]),s._v("的"),t("code",[s._v("id")])])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("返回意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("Session")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session")])]),s._v(" "),t("td",[s._v("根据"),t("code",[s._v("id")]),s._v("找到的"),t("code",[s._v("Session")]),s._v("对象,没有则返回"),t("code",[s._v("NULL")])])])])]),s._v(" "),t("h4",{attrs:{id:"findgroupsession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#findgroupsession"}},[s._v("#")]),s._v(" "),t("code",[s._v("findGroupSession")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("根据组群的"),t("code",[s._v("id")]),s._v("找到当前的"),t("code",[s._v("GroupSession")]),s._v("对象")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GroupSession")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("findGroupSession")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("一个能被序列化的任意值,同"),t("code",[s._v("findSession")]),s._v("参数一致")])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("返回意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("GroupSession")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.GroupSession")])]),s._v(" "),t("td",[s._v("根据"),t("code",[s._v("id")]),s._v("找到的"),t("code",[s._v("GroupSession")]),s._v("对象,没有则返回"),t("code",[s._v("NULL")])])])])]),s._v(" "),t("h4",{attrs:{id:"findsessioningroup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#findsessioningroup"}},[s._v("#")]),s._v(" "),t("code",[s._v("findSessionInGroup")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("根据组群的"),t("code",[s._v("id")]),s._v("找到在当前群组中"),t("code",[s._v("Session")]),s._v("主键值为"),t("code",[s._v("id")]),s._v("的"),t("code",[s._v("Session")]),s._v("对象")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("findSessionInGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" groupId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("groupId")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("一个能被序列化的任意值,同"),t("code",[s._v("findSession")]),s._v("参数一致")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("一个能被序列化的任意值,同"),t("code",[s._v("findSession")]),s._v("参数一致")])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("返回意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("Session")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session")])]),s._v(" "),t("td",[s._v("找到返回"),t("code",[s._v("Session")]),s._v("对象,没有则返回"),t("code",[s._v("NULL")])])])])]),s._v(" "),t("h3",{attrs:{id:"维护-sessionmanager"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#维护-sessionmanager"}},[s._v("#")]),s._v(" 维护("),t("code",[s._v("SessionManager")]),s._v(")")]),s._v(" "),t("p",[t("code",[s._v("SessionManager")]),s._v("是一个"),t("code",[s._v("Session")]),s._v("增删改发的接口,通过这个类可以很方便的对当前在线客户端进行操作.")]),s._v(" "),t("h4",{attrs:{id:"registrysession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#registrysession"}},[s._v("#")]),s._v(" "),t("code",[s._v("registrySession")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("将当前的"),t("RouterLink",{attrs:{to:"/guide/interceptor.html"}},[t("code",[s._v("Session")]),s._v("注册")]),s._v("并加入到管理当中.")],1)])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("registrySession")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),s._v(" session"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("registrySession")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),s._v(" session"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("session")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session")])]),s._v(" "),t("td",[s._v("可以同过"),t("code",[s._v("Session.create()")]),s._v("创建,也可以通过"),t("code",[s._v("AdapterSessionManager")]),s._v("的"),t("code",[s._v("findWithCreate()")]),s._v("方法创建.")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("一个能被序列化的任意值,请注意它的唯一性,它将被当作唯一的主键,即使他们的"),t("code",[s._v("Session")]),s._v("不同,但是"),t("code",[s._v("id")]),s._v("相同也会认为相同")])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("返回意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("Session")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session")])]),s._v(" "),t("td",[s._v("找到返回"),t("code",[s._v("Session")]),s._v("对象,没有则返回"),t("code",[s._v("NULL")])])])])]),s._v(" "),t("h4",{attrs:{id:"deregistersession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deregistersession"}},[s._v("#")]),s._v(" "),t("code",[s._v("deregisterSession")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("将当前的"),t("RouterLink",{attrs:{to:"/guide/interceptor.html"}},[t("code",[s._v("Session")]),s._v("注销")]),s._v("并从管理当中移除.")],1)])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("deregisterSession")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("一个能被序列化的任意值,请注意它的唯一性,它将被当作唯一的主键,即使他们的"),t("code",[s._v("Session")]),s._v("不同,但是"),t("code",[s._v("id")]),s._v("相同也会认为相同")])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("返回意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("Session")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session")])]),s._v(" "),t("td",[s._v("被移除的"),t("code",[s._v("Session")]),s._v("对象")])])])]),s._v(" "),t("h4",{attrs:{id:"addsession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#addsession"}},[s._v("#")]),s._v(" "),t("code",[s._v("addSession")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("将当前的"),t("code",[s._v("Session")]),s._v("加入到"),t("code",[s._v("id")]),s._v("为"),t("code",[s._v("groupId")]),s._v("的群组中.")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addSession")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" groupId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),s._v(" session"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("群组的id")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("Session")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session")])]),s._v(" "),t("td",[s._v("需要加入的"),t("code",[s._v("Session")]),s._v("对象")])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("返回意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("Boolean")])]),s._v(" "),t("td",[t("code",[s._v("java.lang.Boolean")])]),s._v(" "),t("td",[s._v("是否成功")])])])]),s._v(" "),t("h4",{attrs:{id:"removesession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#removesession"}},[s._v("#")]),s._v(" "),t("code",[s._v("removeSession")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("从"),t("code",[s._v("id")]),s._v("为"),t("code",[s._v("groupId")]),s._v("的群组中移除一个"),t("code",[s._v("Session")]),s._v(".")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeSession")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" groupId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("groupId")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("群组的id")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("需要移除的"),t("code",[s._v("Session")]),s._v("对象"),t("code",[s._v("id")])])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("返回意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("Session")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session")])]),s._v(" "),t("td",[s._v("被移除的"),t("code",[s._v("Session")]),s._v("对象")])])])]),s._v(" "),t("h4",{attrs:{id:"creategroup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creategroup"}},[s._v("#")]),s._v(" "),t("code",[s._v("createGroup")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("根据"),t("code",[s._v("id")]),s._v("创建一个"),t("code",[s._v("GroupSession")]),s._v("对象.")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GroupSession")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("群组的id")])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("返回意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("GroupSession")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.GroupSession")])]),s._v(" "),t("td",[s._v("创建的"),t("code",[s._v("GroupSession")]),s._v("对象")])])])]),s._v(" "),t("h4",{attrs:{id:"removegroup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#removegroup"}},[s._v("#")]),s._v(" "),t("code",[s._v("removeGroup")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("根据"),t("code",[s._v("id")]),s._v("移除一个"),t("code",[s._v("GroupSession")]),s._v("对象.")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GroupSession")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" groupId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("群组的id")])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("返回意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("GroupSession")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.GroupSession")])]),s._v(" "),t("td",[s._v("移除的"),t("code",[s._v("GroupSession")]),s._v("对象")])])])]),s._v(" "),t("h4",{attrs:{id:"sendsession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sendsession"}},[s._v("#")]),s._v(" "),t("code",[s._v("sendSession")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("根据"),t("code",[s._v("id")]),s._v("对某个客户端发送消息.")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendSession")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" sendId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendSession")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" sendId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MessageCallback")]),s._v(" callback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("客户端的id")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("msg")])]),s._v(" "),t("td",[t("code",[s._v("java.lang.Object")])]),s._v(" "),t("td",[s._v("需要发送的消息对象")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("callback")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.MessageCallback")])]),s._v(" "),t("td",[s._v("发送后的"),t("a",{attrs:{href:"#%E8%BF%9E%E6%8E%A5-messagecallback"}},[s._v("回调函数")])])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:无")])]),s._v(" "),t("h4",{attrs:{id:"sendgroupbroadcast"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sendgroupbroadcast"}},[s._v("#")]),s._v(" "),t("code",[s._v("sendGroupBroadcast")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("根据"),t("code",[s._v("id")]),s._v("对某个群组发送消息.")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendGroupBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" groupId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendGroupBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" groupId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MessageGroupCallback")]),s._v(" callback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendGroupBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" groupId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" exclude"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendGroupBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" groupId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MessageGroupCallback")]),s._v(" callback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" exclude"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("群组的id")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("msg")])]),s._v(" "),t("td",[t("code",[s._v("java.lang.Object")])]),s._v(" "),t("td",[s._v("需要发送的消息对象")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("callback")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.MessageGroupCallback")])]),s._v(" "),t("td",[s._v("发送后的"),t("a",{attrs:{href:"#%E7%BE%A4%E7%BB%84-messagegroupcallback"}},[s._v("回调函数")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("exclude")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session[]")])]),s._v(" "),t("td",[s._v("排除掉不需要发送的客户端")])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:无")])]),s._v(" "),t("h4",{attrs:{id:"sendsomegroupbroadcast"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sendsomegroupbroadcast"}},[s._v("#")]),s._v(" "),t("code",[s._v("sendSomeGroupBroadcast")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("根据"),t("code",[s._v("id")]),s._v("对某个群组的一些特定客户端发送消息.")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendSomeGroupBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" groupId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" some"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendSomeGroupBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" groupId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MessageGroupCallback")]),s._v(" callback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" some"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[s._v("群组的id")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("msg")])]),s._v(" "),t("td",[t("code",[s._v("java.lang.Object")])]),s._v(" "),t("td",[s._v("需要发送的消息对象")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("callback")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.MessageGroupCallback")])]),s._v(" "),t("td",[s._v("发送后的"),t("a",{attrs:{href:"#%E7%BE%A4%E7%BB%84-messagegroupcallback"}},[s._v("回调函数")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("some")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session[]")])]),s._v(" "),t("td",[s._v("需要发送的客户端")])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:无")])]),s._v(" "),t("h4",{attrs:{id:"sendbroadcast"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sendbroadcast"}},[s._v("#")]),s._v(" "),t("code",[s._v("sendBroadcast")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("对所有在线的客户端发送消息.")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" exclude"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MessageGroupCallback")]),s._v(" callback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MessageGroupCallback")]),s._v(" callback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" exclude"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("msg")])]),s._v(" "),t("td",[t("code",[s._v("java.lang.Object")])]),s._v(" "),t("td",[s._v("需要发送的消息对象")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("callback")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.MessageGroupCallback")])]),s._v(" "),t("td",[s._v("发送后的"),t("a",{attrs:{href:"#%E7%BE%A4%E7%BB%84-messagegroupcallback"}},[s._v("回调函数")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("exclude")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session[]")])]),s._v(" "),t("td",[s._v("不需要发送的客户端")])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:无")])]),s._v(" "),t("h4",{attrs:{id:"sendbroadcast-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sendbroadcast-2"}},[s._v("#")]),s._v(" "),t("code",[s._v("sendBroadcast")])]),s._v(" "),t("ul",[t("li",[s._v("定义\n"),t("p",[s._v("对所有在线的一些特定客户端发送消息.")])])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendSomeBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" some"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendSomeBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MessageGroupCallback")]),s._v(" callback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" some"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("参数")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数意义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("msg")])]),s._v(" "),t("td",[t("code",[s._v("java.lang.Object")])]),s._v(" "),t("td",[s._v("需要发送的消息对象")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("callback")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.MessageGroupCallback")])]),s._v(" "),t("td",[s._v("发送后的"),t("a",{attrs:{href:"#%E7%BE%A4%E7%BB%84-messagegroupcallback"}},[s._v("回调函数")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("some")])]),s._v(" "),t("td",[t("code",[s._v("site.peaklee.framework.session.impl.Session[]")])]),s._v(" "),t("td",[s._v("需要发送的客户端")])])])]),s._v(" "),t("ul",[t("li",[s._v("返回值:无")])]),s._v(" "),t("h3",{attrs:{id:"适配器-adaptersessionmanager"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#适配器-adaptersessionmanager"}},[s._v("#")]),s._v(" 适配器("),t("code",[s._v("AdapterSessionManager")]),s._v(")")]),s._v(" "),t("p",[s._v("它更像一个接口的代理类,虽然它也是一个接口,但是它内部已经代理了`SessionFind`和`SessionManager`接口,所以无需实现它,如果想在一个类中实现对`Session`的管理,那么直接实现即可.")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("Example")]),s._v(" "),t("p",[s._v("假设有一个Web的处理类,需要对某个群组发送通知,我们可以使用以下代码实现")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bind"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GetMapping")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bind"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RequestMapping")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bind"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RequestParam")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bind"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestController")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("site"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("peaklee"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("framework"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cache"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AdapterSessionManager")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("site"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("peaklee"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("framework"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("session"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MessageGroupCallback")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("lombok"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("extern"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slf4j"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Slf4j")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Slf4j")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RestController")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/web"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AdapterSessionManager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendGroupBroadcast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MessageGroupCallback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("success")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GroupSession")]),s._v(" session"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"message send successful"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n                "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("failed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GroupSession")]),s._v(" session"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Session")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" ids"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"message send failed to :{}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Arrays")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ids"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("toArray")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])]),s._v(" "),t("h2",{attrs:{id:"连接对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接对象"}},[s._v("#")]),s._v(" 连接对象")]),s._v(" "),t("p",[s._v("为了更加方便的管理"),t("code",[s._v("Channel")]),s._v(",这里把它封装被一个个的"),t("code",[s._v("Session")]),s._v("对象")]),s._v(" "),t("h3",{attrs:{id:"客户端-session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#客户端-session"}},[s._v("#")]),s._v(" 客户端("),t("code",[s._v("Session")]),s._v(")")]),s._v(" "),t("p",[s._v("所有的客户端将都被抽象成为一个"),t("b",[s._v("Session")]),s._v(">对象,这个对象包含了基础发送消息,回调函数信息,绑定不同的"),t("b",[s._v("Channel")]),s._v("对象,记录初始的上线时间和离线时间等.")]),s._v(" "),t("h4",{attrs:{id:"session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#session"}},[s._v("#")]),s._v(" "),t("code",[s._v("Session")])]),s._v(" "),t("ul",[t("li",[s._v("属性")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("读写")]),s._v(" "),t("th",[s._v("解释")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("channel")])]),s._v(" "),t("td",[t("code",[s._v("io.netty.channel.Channel")])]),s._v(" "),t("td",[t("code",[s._v("RW")])]),s._v(" "),t("td",[t("code",[s._v("Netty")]),s._v("的"),t("code",[s._v("Channel")]),s._v("对象")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("id")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[t("code",[s._v("RW")])]),s._v(" "),t("td",[s._v("客户端的唯一主键")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("sessionId")])]),s._v(" "),t("td",[t("code",[s._v("io.netty.channel.ChannelId")])]),s._v(" "),t("td",[t("code",[s._v("RW")])]),s._v(" "),t("td",[t("code",[s._v("Channel")]),s._v("中的"),t("code",[s._v("ChannelId")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("ip")])]),s._v(" "),t("td",[t("code",[s._v("java.lang.String")])]),s._v(" "),t("td",[t("code",[s._v("RW")])]),s._v(" "),t("td",[s._v("客户端的远程IP")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("activeTime")])]),s._v(" "),t("td",[t("code",[s._v("java.util.Date")])]),s._v(" "),t("td",[t("code",[s._v("RW")])]),s._v(" "),t("td",[s._v("客户端的上线时间")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("inactiveTime")])]),s._v(" "),t("td",[t("code",[s._v("java.util.Date")])]),s._v(" "),t("td",[t("code",[s._v("RW")])]),s._v(" "),t("td",[s._v("客户端的离线时间")])])])]),s._v(" "),t("ul",[t("li",[s._v("方法")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数")]),s._v(" "),t("th",[s._v("返回值")]),s._v(" "),t("th",[s._v("解释")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("create")])]),s._v(" "),t("td",[t("code",[s._v("static")])]),s._v(" "),t("td",[t("code",[s._v("id")]),s._v(":定义客户端的id "),t("br"),s._v(" "),t("code",[s._v("channel")]),s._v(":客户端的连接通道")]),s._v(" "),t("td",[t("code",[s._v("Session")])]),s._v(" "),t("td",[s._v("根据"),t("code",[s._v("Channel")]),s._v("创建一个"),t("code",[s._v("Session")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("bindChannel")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("channel")]),s._v(":客户端的连接通道")]),s._v(" "),t("td",[t("code",[s._v("Session")])]),s._v(" "),t("td",[s._v("将一个"),t("code",[s._v("Channel")]),s._v("绑定到"),t("code",[s._v("Session")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("send")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("callback")]),s._v(":发送消息的回调函数 "),t("br"),t("code",[s._v("msg")]),s._v(":需要发送的消息")]),s._v(" "),t("td",[t("code",[s._v("void")])]),s._v(" "),t("td",[s._v("将消息发送到客户端")])])])]),s._v(" "),t("h3",{attrs:{id:"群组-groupsession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#群组-groupsession"}},[s._v("#")]),s._v(" 群组("),t("code",[s._v("GroupSession")]),s._v(")")]),s._v(" "),t("p",[s._v("它是对一组"),t("b",[s._v("Session")]),s._v("集合的管理,负责增删改查,消息发送,清除,创建等.")]),s._v(" "),t("h4",{attrs:{id:"groupsession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#groupsession"}},[s._v("#")]),s._v(" "),t("code",[s._v("GroupSession")])]),s._v(" "),t("ul",[t("li",[s._v("属性")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("读写")]),s._v(" "),t("th",[s._v("解释")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("channelGroup")])]),s._v(" "),t("td",[t("code",[s._v("io.netty.channel.group.channelGroup")])]),s._v(" "),t("td",[t("code",[s._v("R")])]),s._v(" "),t("td",[t("code",[s._v("Netty")]),s._v("的"),t("code",[s._v("ChannelGroup")]),s._v("对象")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("groupSession")])]),s._v(" "),t("td",[t("code",[s._v("java.util.Map")])]),s._v(" "),t("td",[t("code",[s._v("R")])]),s._v(" "),t("td",[t("code",[s._v("Session")]),s._v("集合")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("groupId")])]),s._v(" "),t("td",[t("code",[s._v("java.io.Serializable")])]),s._v(" "),t("td",[t("code",[s._v("RW")])]),s._v(" "),t("td",[s._v("群组的"),t("code",[s._v("id")])])])])]),s._v(" "),t("ul",[t("li",[s._v("方法")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数")]),s._v(" "),t("th",[s._v("返回值")]),s._v(" "),t("th",[s._v("解释")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("create")])]),s._v(" "),t("td",[t("code",[s._v("static")])]),s._v(" "),t("td",[t("code",[s._v("grouoId")]),s._v(":定义群组的id")]),s._v(" "),t("td",[t("code",[s._v("GroupSession")])]),s._v(" "),t("td",[s._v("根据"),t("code",[s._v("id")]),s._v("创建一个"),t("code",[s._v("GroupSession")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("add")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("session")]),s._v(":需要添加的客户端")]),s._v(" "),t("td",[t("code",[s._v("GroupSession")])]),s._v(" "),t("td",[s._v("添加一个客户端到群组,链式调用")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("remove")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("id")]),s._v(":需要移除的客户端的id")]),s._v(" "),t("td",[t("code",[s._v("Session")])]),s._v(" "),t("td",[s._v("在群组内移除客户端")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("findSession")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("id")]),s._v(":需要查找的客户端的id")]),s._v(" "),t("td",[t("code",[s._v("Session")])]),s._v(" "),t("td",[s._v("查找客户端")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("hasSession")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("id")]),s._v(":需要查找的客户端的id")]),s._v(" "),t("td",[t("code",[s._v("Boolean")])]),s._v(" "),t("td",[s._v("查找是否存在客户端")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("clear")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("void")])]),s._v(" "),t("td",[s._v("清除掉群组内的所有客户端信息")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("size")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("Integer")])]),s._v(" "),t("td",[s._v("返回组群的在线客户端数量")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("sendBroadcast")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("callback")]),s._v(":发送消息的回调函数 "),t("br"),t("code",[s._v("msg")]),s._v(":需要发送的消息 "),t("br"),s._v(" "),t("code",[s._v("exclude")]),s._v(":需要排除的客户端")]),s._v(" "),t("td",[t("code",[s._v("void")])]),s._v(" "),t("td",[s._v("将消息发送到组群内所有符合要求的客户端")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("sendSome")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("callback")]),s._v(":发送消息的回调函数 "),t("br"),t("code",[s._v("msg")]),s._v(":需要发送的消息 "),t("br"),s._v(" "),t("code",[s._v("some")]),s._v(":需要发送的客户端")]),s._v(" "),t("td",[t("code",[s._v("void")])]),s._v(" "),t("td",[s._v("将消息发送到组群内所有符合要求的客户端")])])])]),s._v(" "),t("h3",{attrs:{id:"应用程序-applicationsession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#应用程序-applicationsession"}},[s._v("#")]),s._v(" 应用程序("),t("code",[s._v("ApplicationSession")]),s._v(")")]),s._v(" "),t("p",[s._v(" 这个主要是封装启动的服务器所返回的"),t("b",[s._v("ChannelFuture")]),s._v(",实现发送消息(仅程序为客户端时),添加异步回调监听等.")]),s._v(" "),t("h4",{attrs:{id:"applicationsession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#applicationsession"}},[s._v("#")]),s._v(" "),t("code",[s._v("ApplicationSession")])]),s._v(" "),t("ul",[t("li",[s._v("属性")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("读写")]),s._v(" "),t("th",[s._v("解释")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("channel")])]),s._v(" "),t("td",[t("code",[s._v("io.netty.channel.Channel")])]),s._v(" "),t("td",[t("code",[s._v("R")])]),s._v(" "),t("td",[t("code",[s._v("Netty")]),s._v("的"),t("code",[s._v("Channel")]),s._v("对象")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("channelFuture")])]),s._v(" "),t("td",[t("code",[s._v("io.netty.channel.ChannelFuture")])]),s._v(" "),t("td",[t("code",[s._v("R")])]),s._v(" "),t("td",[t("code",[s._v("Netty")]),s._v("的"),t("code",[s._v("ChannelFuture")]),s._v("对象")])])])]),s._v(" "),t("ul",[t("li",[s._v("方法")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("参数")]),s._v(" "),t("th",[s._v("返回值")]),s._v(" "),t("th",[s._v("解释")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("create")])]),s._v(" "),t("td",[t("code",[s._v("static")])]),s._v(" "),t("td",[t("code",[s._v("channel")]),s._v(":"),t("code",[s._v("Netty")]),s._v("的"),t("code",[s._v("Channel")]),s._v("对象 "),t("br"),s._v(" "),t("code",[s._v("channelFuture")]),s._v(":"),t("code",[s._v("Netty")]),s._v("的"),t("code",[s._v("Channel")]),s._v("对象")]),s._v(" "),t("td",[t("code",[s._v("ApplicationSession")])]),s._v(" "),t("td",[s._v("根据"),t("code",[s._v("Netty")]),s._v("返回信息创建一个"),t("code",[s._v("ApplicationSession")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("addListener")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("callback")]),s._v(":一个"),t("code",[s._v("Lambda")]),s._v("表达式函数")]),s._v(" "),t("td",[t("code",[s._v("void")])]),s._v(" "),t("td",[s._v("添加一个"),t("code",[s._v("Lambda")]),s._v("表达式函数")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("send")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("callback")]),s._v(":发送消息的回调函数 "),t("br"),t("code",[s._v("msg")]),s._v(":需要发送的消息")]),s._v(" "),t("td",[t("code",[s._v("void")])]),s._v(" "),t("td",[s._v("对当前服务器发送消息")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("close")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("-")])]),s._v(" "),t("td",[t("code",[s._v("void")])]),s._v(" "),t("td",[s._v("关闭服务器")])])])]),s._v(" "),t("h2",{attrs:{id:"回调"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#回调"}},[s._v("#")]),s._v(" 回调")]),s._v(" "),t("p",[s._v("这个回调仅仅是对消息发送成功与否的回调.")]),s._v(" "),t("h3",{attrs:{id:"连接-messagecallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接-messagecallback"}},[s._v("#")]),s._v(" 连接("),t("code",[s._v("MessageCallback")]),s._v(")")]),s._v(" "),t("h4",{attrs:{id:"messagecallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#messagecallback"}},[s._v("#")]),s._v(" MessageCallback")]),s._v(" "),t("p",[s._v("它是对应客户端消息是否发送成功的回调.")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("success()")])]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("(Session)session")]),s._v(" 必传")]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("(Object)msg")]),s._v(" 可能为"),t("code",[s._v("NULL")])]),s._v(" "),t("li",[s._v("消息发送成功后会触发该回调")])]),s._v(" "),t("hr"),s._v(" "),t("ul",[t("li",[t("code",[s._v("failed()")])]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("(Session)session")]),s._v(" 必传")]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("(Object)msg")]),s._v(" 可能为"),t("code",[s._v("NULL")])]),s._v(" "),t("li",[s._v("消息发送失败后会触发该回调")])]),s._v(" "),t("h3",{attrs:{id:"群组-messagegroupcallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#群组-messagegroupcallback"}},[s._v("#")]),s._v(" 群组("),t("code",[s._v("MessageGroupCallback")]),s._v(")")]),s._v(" "),t("h4",{attrs:{id:"messagegroupcallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#messagegroupcallback"}},[s._v("#")]),s._v(" MessageGroupCallback")]),s._v(" "),t("p",[s._v("它是对应群组消息是否发送成功的回调.")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("success()")])]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("groupSession")]),s._v(" 必传")]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("msg")]),s._v(" 可能为"),t("code",[s._v("NULL")])]),s._v(" "),t("li",[s._v("消息发送成功后会触发该回调")])]),s._v(" "),t("hr"),s._v(" "),t("ul",[t("li",[t("code",[s._v("failed()")])]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("(GroupSession)session")]),s._v(" 必传")]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("(List<Session>)ids")]),s._v(" 必传,发送失败的客户端")]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("(Object)msg")]),s._v(" 可能为"),t("code",[s._v("NULL")])]),s._v(" "),t("li",[s._v("消息发送失败后会触发该回调")])]),s._v(" "),t("h3",{attrs:{id:"客户端-messageservercallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#客户端-messageservercallback"}},[s._v("#")]),s._v(" 客户端("),t("code",[s._v("MessageServerCallback")]),s._v(")")]),s._v(" "),t("h4",{attrs:{id:"messageservercallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#messageservercallback"}},[s._v("#")]),s._v(" MessageServerCallback")]),s._v(" "),t("p",[s._v("它是对应应用程序消息是否发送成功的回调.")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("success()")])]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("(ApplicationSession)session")]),s._v(" 必传")]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("(Object)msg")]),s._v(" 可能为"),t("code",[s._v("NULL")])]),s._v(" "),t("li",[s._v("消息发送成功后会触发该回调")])]),s._v(" "),t("hr"),s._v(" "),t("ul",[t("li",[t("code",[s._v("failed()")])]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("(ApplicationSession)session")]),s._v(" 必传")]),s._v(" "),t("li",[s._v("回调参数: "),t("code",[s._v("(Object)msg")]),s._v(" 可能为"),t("code",[s._v("NULL")])]),s._v(" "),t("li",[s._v("消息发送失败后会触发该回调")])])])}),[],!1,null,null,null);t.default=v.exports}}]);